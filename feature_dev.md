---
description: 코드베이스 이해와 아키텍처에 중점을 둔 가이드 기반 기능 개발
argument-hint: 선택적 기능 설명
---

# 기능 개발

개발자가 새로운 기능을 구현하는 것을 도와줍니다. 체계적인 접근 방식을 따릅니다: 코드베이스를 깊이 이해하고, 명확하지 않은 모든 세부 사항을 파악하여 질문하고, 우아한 아키텍처를 설계한 다음 구현합니다.

## 핵심 원칙

- **명확화 질문하기**: 모든 모호함, 엣지 케이스, 명확하지 않은 동작을 파악합니다. 가정하지 말고 구체적이고 명확한 질문을 합니다. 구현을 진행하기 전에 사용자의 답변을 기다립니다. 질문은 초기에 합니다(코드베이스를 이해한 후, 아키텍처 설계 전).
- **행동하기 전에 이해하기**: 기존 코드 패턴을 먼저 읽고 이해합니다
- **에이전트가 식별한 파일 읽기**: 에이전트를 실행할 때 읽어야 할 가장 중요한 파일 목록을 반환하도록 요청합니다. 에이전트가 완료된 후, 다음 단계로 진행하기 전에 해당 파일들을 읽어 상세한 컨텍스트를 구축합니다.
- **단순하고 우아하게**: 읽기 쉽고, 유지보수하기 쉽고, 아키텍처적으로 견고한 코드를 우선시합니다
- **TodoWrite 사용**: 전체 진행 상황을 추적합니다

---

## Phase 1: 발견

**목표**: 무엇을 만들어야 하는지 이해하기

초기 요청: $ARGUMENTS

**수행 작업**:
1. 모든 단계가 포함된 할 일 목록 생성
2. 기능이 불분명하면 사용자에게 다음을 질문:
   - 어떤 문제를 해결하려고 하나요?
   - 기능이 무엇을 해야 하나요?
   - 제약 사항이나 요구 사항이 있나요?
3. 이해한 내용을 요약하고 사용자에게 확인

---

## Phase 2: 코드베이스 탐색

**목표**: 관련된 기존 코드와 패턴을 상위 및 하위 수준 모두에서 이해하기

**수행 작업**:
1. 2-3개의 code-explorer 에이전트를 병렬로 실행합니다. 각 에이전트는:
   - 코드를 포괄적으로 추적하고 추상화, 아키텍처, 제어 흐름에 대한 종합적인 이해에 집중
   - 코드베이스의 다른 측면을 대상으로 함 (예: 유사한 기능, 상위 수준 이해, 아키텍처 이해, 사용자 경험 등)
   - 읽어야 할 5-10개의 핵심 파일 목록 포함

   **에이전트 프롬프트 예시**:
   - "[기능]과 유사한 기능을 찾고 구현 과정을 포괄적으로 추적하세요"
   - "[기능 영역]의 아키텍처와 추상화를 매핑하고, 코드를 포괄적으로 추적하세요"
   - "[기존 기능/영역]의 현재 구현을 분석하고, 코드를 포괄적으로 추적하세요"
   - "[기능]과 관련된 UI 패턴, 테스트 접근 방식, 또는 확장 지점을 식별하세요"

2. 에이전트가 반환되면, 에이전트가 식별한 모든 파일을 읽어 깊은 이해를 구축합니다
3. 발견한 내용과 패턴에 대한 종합적인 요약을 제시합니다

---

## Phase 3: 명확화 질문

**목표**: 설계하기 전에 모든 부족한 부분을 채우고 모호함을 해결하기

**중요**: 이것은 가장 중요한 단계 중 하나입니다. 건너뛰지 마세요.

**수행 작업**:
1. 코드베이스 조사 결과와 원래 기능 요청을 검토
2. 명확하지 않은 측면 식별: 엣지 케이스, 오류 처리, 통합 지점, 범위 경계, 설계 선호도, 하위 호환성, 성능 요구 사항
3. **모든 질문을 명확하고 정리된 목록으로 사용자에게 제시**
4. **아키텍처 설계로 진행하기 전에 답변을 기다림**

사용자가 "당신이 생각하기에 가장 좋은 것으로 하세요"라고 하면, 추천 사항을 제공하고 명시적인 확인을 받습니다.

---

## Phase 4: 아키텍처 설계

**목표**: 다양한 트레이드오프가 있는 여러 구현 접근 방식 설계

**수행 작업**:
1. 2-3개의 code-architect 에이전트를 다양한 초점으로 병렬 실행: 최소 변경(가장 작은 변경, 최대 재사용), 클린 아키텍처(유지보수성, 우아한 추상화), 또는 실용적 균형(속도 + 품질)
2. 모든 접근 방식을 검토하고 이 특정 작업에 가장 적합한 것에 대한 의견 형성 (고려 사항: 작은 수정 vs 대규모 기능, 긴급성, 복잡성, 팀 컨텍스트)
3. 사용자에게 제시: 각 접근 방식의 간략한 요약, 트레이드오프 비교, **근거와 함께 당신의 추천**, 구체적인 구현 차이점
4. **사용자에게 어떤 접근 방식을 선호하는지 질문**

---

## Phase 5: 구현

**목표**: 기능 만들기

**사용자 승인 없이 시작하지 마세요**

**수행 작업**:
1. 명시적인 사용자 승인 대기
2. 이전 단계에서 식별된 모든 관련 파일 읽기
3. 선택된 아키텍처를 따라 구현
4. 코드베이스 관례를 엄격히 준수
5. 깔끔하고 잘 문서화된 코드 작성
6. 진행하면서 할 일 목록 업데이트

---

## Phase 6: 품질 검토

**목표**: 코드가 단순하고, DRY하고, 우아하고, 읽기 쉽고, 기능적으로 올바른지 확인

**수행 작업**:
1. 3개의 code-reviewer 에이전트를 다양한 초점으로 병렬 실행: 단순성/DRY/우아함, 버그/기능적 정확성, 프로젝트 관례/추상화
2. 발견 사항을 통합하고 수정을 권장하는 가장 심각한 문제 식별
3. **발견 사항을 사용자에게 제시하고 어떻게 할지 질문** (지금 수정, 나중에 수정, 또는 현재 상태로 진행)
4. 사용자 결정에 따라 문제 처리

---

## Phase 7: 요약

**목표**: 완료된 내용 문서화

**수행 작업**:
1. 모든 할 일 완료 표시
2. 요약:
   - 무엇이 만들어졌는지
   - 내려진 주요 결정
   - 수정된 파일
   - 제안하는 다음 단계

---

> 이 문서는 기능 개발 시 체계적인 접근 방식을 안내합니다.
